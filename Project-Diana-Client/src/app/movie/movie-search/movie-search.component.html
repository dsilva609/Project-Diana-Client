<div>
  <form
    [formGroup]="searchForm"
    (ngSubmit)="searchMovies(searchForm.value)"
    class="mb-4"
  >
    <div>
      <div class="d-flex">
        <input
          type="text"
          class="form-control mr-2"
          formControlName="title"
          placeholder="Title"
        />
        <select
          formControlName="category"
          id="category"
          class="form-control mb-2 mr-2"
          required
        >
          <option [ngValue]="0">Select Search Type</option>
          <option *ngFor="let type of searchTypes" [ngValue]="type.value">
            {{ type.name }}
          </option>
        </select>
        <input type="submit" class="btn btn-primary" value="Search" />
      </div>
    </div>
  </form>

  <div *ngxSubscribe="searchResults as results">
    <div *ngFor="let result of results">
      <div class="d-flex mb-3">
        <img [src]="result.imageUrl" class="img-fluid movie-img mr-4" />
        <div class="d-flex flex-row flex-grow-1">
          <div class="d-flex flex-column">
            <div>{{ result.title }}</div>
            <div>{{ result.countryOfOrigin }}</div>
            <div>{{ result.yearReleasedOn }}</div>
          </div>
        </div>
        <div class="d-flex align-items-center">
          <button
            class="btn btn-outline-primary"
            (click)="setMovieToAdd(result.id)"
          >
            Add
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
